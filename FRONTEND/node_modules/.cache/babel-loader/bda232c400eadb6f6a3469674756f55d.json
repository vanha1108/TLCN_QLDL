{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Thang\\\\OneDrive\\\\Documents\\\\GitHub\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Thang\\\\OneDrive\\\\Documents\\\\GitHub\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Thang\\\\OneDrive\\\\Documents\\\\GitHub\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Thang\\\\OneDrive\\\\Documents\\\\GitHub\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Thang\\\\OneDrive\\\\Documents\\\\GitHub\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Thang\\\\OneDrive\\\\Documents\\\\GitHub\\\\TLCN_QLDL\\\\FRONTEND\\\\src\\\\views\\\\Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { CardTitle, CardText, Row, CardHeader, CardBody, Col, Card } from 'reactstrap';\nimport Form from \"views/form.js\";\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      email: '',\n      password: '',\n      token: '',\n      redirect: localStorage.getItem('author') ? true : false\n    };\n    _this.onSubmitHandler = _this.onSubmitHandler.bind(_assertThisInitialized(_this));\n    _this.emailInputChangeHandler = _this.emailInputChangeHandler.bind(_assertThisInitialized(_this));\n    _this.passwordInputChangeHandler = _this.passwordInputChangeHandler.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"onSubmitHandler\",\n    value: function onSubmitHandler() {\n      var _this2 = this;\n\n      if (!(this.state.email === '' || this.state.password === '') && /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(this.state.email)) {\n        axios.post('/api/user/login', {\n          email: this.state.email,\n          password: this.state.password\n        }).then(function (res) {\n          if (res.data.success === true) {\n            console.log('success');\n\n            _this2.setState({\n              token: res.headers.authorization\n            });\n\n            console.log(_this2.state.token);\n            var data = _this2.state.token;\n            localStorage.setItem('authorization', JSON.stringify(data));\n\n            _this2.setState({\n              redirect: true\n            });\n          }\n        }).catch(function (err) {\n          console.log('lá»—i');\n        });\n      } else {\n        alert('Please enter valid details');\n      }\n    }\n  }, {\n    key: \"emailInputChangeHandler\",\n    value: function emailInputChangeHandler(event) {\n      this.setState({\n        email: event.target.value\n      });\n    }\n  }, {\n    key: \"passwordInputChangeHandler\",\n    value: function passwordInputChangeHandler(event) {\n      this.setState({\n        password: event.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container mt-5 mr-0\",\n        id: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"card-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        className: \"ml-auto mr-auto text-center\",\n        md: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(CardTitle, {\n        tag: \"h2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 33\n        }\n      }, \"Login\"), /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"...\",\n        className: \"avatar\",\n        src: require(\"assets/img/emilyz.jpg\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 35\n        }\n      }))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        onSubmit: this.onSubmitHandler.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        className: \"text-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }\n      }, \"Email:\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 88\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"email\",\n        className: \"form-control\",\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"example@domain.com\",\n        onChange: this.emailInputChangeHandler,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        className: \"text-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 29\n        }\n      }, \"Password:\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 94\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"password\",\n        className: \"form-control\",\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"********\",\n        onChange: this.passwordInputChangeHandler,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between align-items-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.onSubmitHandler,\n        className: \"btn btn-info btn-md\",\n        type: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 29\n        }\n      }, \"Submit\"))))), /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        md: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"card-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(CardText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"author\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block block-one\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block block-two\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block block-three\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"block block-four\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#pablo\",\n        onClick: function onClick(e) {\n          return e.preventDefault();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"...\",\n        className: \"avatar\",\n        src: require(\"assets/img/james.jpg\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 31\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 31\n        }\n      }, \"Nguy\\u1EC5n V\\u0103n Th\\u1EAFng\")), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }\n      }, \"Admin\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-description ml-auto mr-auto text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 27\n        }\n      }, \"C\\u1EA7n h\\u1ED7 tr\\u1EE3 vui l\\xF2ng li\\xEAn h\\u1EC7 v\\u01A1i admin\", /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 29\n        }\n      }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\", ' ', \"0971484530\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 29\n        }\n      }, \"Email:\", ' ', \"admin@gmail.com\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"container mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }\n      }, \"---------------\")))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Thang/OneDrive/Documents/GitHub/TLCN_QLDL/FRONTEND/src/views/Login.js"],"names":["React","Component","axios","CardTitle","CardText","Row","CardHeader","CardBody","Col","Card","Form","Login","props","state","email","password","token","redirect","localStorage","getItem","onSubmitHandler","bind","emailInputChangeHandler","passwordInputChangeHandler","test","post","then","res","data","success","console","log","setState","headers","authorization","setItem","JSON","stringify","catch","err","alert","event","target","value","require","e","preventDefault"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAmBC,QAAnB,EAA4BC,GAA5B,EAAgCC,UAAhC,EAA2CC,QAA3C,EAAoDC,GAApD,EAAwDC,IAAxD,QAAoE,YAApE;AACA,OAAOC,IAAP,MAAiB,eAAjB;;IACMC,K;;;;;AAEJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,QAAQ,EAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,IAAiC,IAAjC,GAAwC;AAJvC,KAAb;AAOA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB;AACA,UAAKC,uBAAL,GAA+B,MAAKA,uBAAL,CAA6BD,IAA7B,+BAA/B;AACA,UAAKE,0BAAL,GAAkC,MAAKA,0BAAL,CAAgCF,IAAhC,+BAAlC;AAZiB;AAalB;;;;sCAEiB;AAAA;;AAChB,UAAI,EAAE,KAAKR,KAAL,CAAWC,KAAX,KAAqB,EAArB,IAA2B,KAAKD,KAAL,CAAWE,QAAX,KAAwB,EAArD,KACE,0JAA0JS,IAA1J,CAA+J,KAAKX,KAAL,CAAWC,KAA1K,CADN,EACyL;AACvLZ,QAAAA,KAAK,CAACuB,IAAN,CAAW,iBAAX,EAA8B;AAC5BX,UAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADU;AAE5BC,UAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFO,SAA9B,EAGGW,IAHH,CAGQ,UAACC,GAAD,EAAS;AAEf,cAAGA,GAAG,CAACC,IAAJ,CAASC,OAAT,KAAmB,IAAtB,EACA;AACEC,YAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AACE,YAAA,MAAI,CAACC,QAAL,CAAc;AACZhB,cAAAA,KAAK,EAAEW,GAAG,CAACM,OAAJ,CAAYC;AADP,aAAd;;AAGAJ,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAAClB,KAAL,CAAWG,KAAvB;AACA,gBAAMY,IAAI,GACR,MAAI,CAACf,KAAL,CAAWG,KADb;AAIAE,YAAAA,YAAY,CAACiB,OAAb,CAAqB,eAArB,EAAsCC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAAtC;;AACA,YAAA,MAAI,CAACI,QAAL,CAAc;AACZf,cAAAA,QAAQ,EAAE;AADE,aAAd;AAGH;AAGF,SAvBD,EAuBGqB,KAvBH,CAuBS,UAAAC,GAAG,EAAI;AACdT,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACD,SAzBD;AA0BD,OA5BD,MA6BK;AACHS,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACD;AACF;;;4CAEuBC,K,EAAO;AAC7B,WAAKT,QAAL,CAAc;AACZlB,QAAAA,KAAK,EAAE2B,KAAK,CAACC,MAAN,CAAaC;AADR,OAAd;AAGD;;;+CAE0BF,K,EAAO;AAChC,WAAKT,QAAL,CAAc;AACZjB,QAAAA,QAAQ,EAAE0B,KAAK,CAACC,MAAN,CAAaC;AADX,OAAd;AAGD;;;6BAEQ;AACL,0BAEM;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAqC,QAAA,EAAE,EAAC,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,GAAD;AAAK,QAAA,SAAS,EAAC,6BAAf;AAA6C,QAAA,EAAE,EAAC,GAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGI,oBAAC,SAAD;AAAY,QAAA,GAAG,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHJ,eAIM;AACI,QAAA,GAAG,EAAC,KADR;AAEI,QAAA,SAAS,EAAC,QAFd;AAGI,QAAA,GAAG,EAAEC,OAAO,CAAC,uBAAD,CAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJN,CADJ,CADA,eAcA,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,QAAQ,EAAE,KAAKxB,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAO,QAAA,OAAO,EAAC,OAAf;AAAuB,QAAA,SAAS,EAAC,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAC2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD3D,eAEA;AACI,QAAA,EAAE,EAAC,OADP;AAEI,QAAA,SAAS,EAAC,cAFd;AAGI,QAAA,IAAI,EAAC,OAHT;AAII,QAAA,IAAI,EAAC,OAJT;AAKI,QAAA,WAAW,EAAC,oBALhB;AAMI,QAAA,QAAQ,EAAE,KAAKC,uBANnB;AAOI,QAAA,QAAQ,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,CADF,eAYE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAO,QAAA,OAAO,EAAC,UAAf;AAA0B,QAAA,SAAS,EAAC,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADA,eACiE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADjE,eAEA;AACI,QAAA,EAAE,EAAC,UADP;AAEI,QAAA,SAAS,EAAC,cAFd;AAGI,QAAA,IAAI,EAAC,UAHT;AAII,QAAA,IAAI,EAAC,UAJT;AAKI,QAAA,WAAW,EAAC,UALhB;AAMI,QAAA,QAAQ,EAAE,KAAKC,0BANnB;AAOI,QAAA,QAAQ,MAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,CAZF,eAuBE;AAAK,QAAA,SAAS,EAAC,gDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAQ,QAAA,OAAO,EAAE,KAAKH,eAAtB;AAAuC,QAAA,SAAS,EAAC,qBAAjD;AAAuE,QAAA,IAAI,EAAC,QAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,CAvBF,CADF,CAdA,CADJ,eA8CI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9CJ,CADJ,eAkDI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,eAGE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,eAIE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,eAKE;AAAG,QAAA,IAAI,EAAC,QAAR;AAAiB,QAAA,OAAO,EAAE,iBAAAyB,CAAC;AAAA,iBAAIA,CAAC,CAACC,cAAF,EAAJ;AAAA,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAC,KADN;AAEE,QAAA,SAAS,EAAC,QAFZ;AAGE,QAAA,GAAG,EAAEF,OAAO,CAAC,sBAAD,CAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAME;AAAI,QAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CANF,CALF,eAaE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAbF,CAFF,eAiBE;AAAK,QAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8FAEE;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAA+C,GAA/C,eAFF,eAGE;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAuC,GAAvC,oBAHF,eAIE;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAJF,CAjBF,CADF,CADF,CAlDJ,CADJ,CAFN;AAoFD;;;;EArJe3C,S;;AAwJpB,eAAeU,KAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { CardTitle,CardText,Row,CardHeader,CardBody,Col,Card } from 'reactstrap';\r\nimport Form from \"views/form.js\";\r\nclass Login extends Component {\r\n   \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      token: '',\r\n      redirect: localStorage.getItem('author') ? true : false\r\n    }\r\n\r\n    this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n    this.emailInputChangeHandler = this.emailInputChangeHandler.bind(this);\r\n    this.passwordInputChangeHandler = this.passwordInputChangeHandler.bind(this);\r\n  }\r\n\r\n  onSubmitHandler() {\r\n    if (!(this.state.email === '' || this.state.password === '')\r\n      && (/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(this.state.email))) {\r\n      axios.post('/api/user/login', {\r\n        email: this.state.email,\r\n        password: this.state.password\r\n      }).then((res) => {\r\n        \r\n        if(res.data.success===true)\r\n        {\r\n          console.log('success');\r\n            this.setState({\r\n              token: res.headers.authorization            \r\n            });\r\n            console.log(this.state.token);\r\n            const data = \r\n              this.state.token;\r\n              \r\n            \r\n            localStorage.setItem('authorization', JSON.stringify(data));\r\n            this.setState({\r\n              redirect: true\r\n            });\r\n        }\r\n        \r\n            \r\n      }).catch(err => {\r\n        console.log('lá»—i')\r\n      });\r\n    } \r\n    else {\r\n      alert('Please enter valid details');\r\n    }\r\n  }\r\n\r\n  emailInputChangeHandler(event) {\r\n    this.setState({\r\n      email: event.target.value\r\n    });\r\n  }\r\n\r\n  passwordInputChangeHandler(event) {\r\n    this.setState({\r\n      password: event.target.value\r\n    });\r\n  }\r\n  \r\n  render() {\r\n      return (\r\n            \r\n            <div className=\"container mt-5 mr-0\" id=\"content\">\r\n                <Row>\r\n                    <Col md=\"5\">\r\n                        <Card className=\"card-user\">\r\n                        <CardHeader>\r\n                            <Col className=\"ml-auto mr-auto text-center\" md=\"6\">\r\n                              \r\n                                \r\n                                <CardTitle  tag=\"h2\">Login</CardTitle>\r\n                                  <img\r\n                                      alt=\"...\"\r\n                                      className=\"avatar\"\r\n                                      src={require(\"assets/img/emilyz.jpg\")}\r\n                                  />\r\n                                \r\n                            </Col>\r\n                        </CardHeader>\r\n                        <CardBody>\r\n                          <Form onSubmit={this.onSubmitHandler.bind(this)}>                            \r\n                            <div className=\"form-group\">\r\n                            <label htmlFor=\"email\" className=\"text-info\">Email:</label><br />\r\n                            <input\r\n                                id=\"email\"\r\n                                className=\"form-control\"\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                placeholder=\"example@domain.com\"\r\n                                onChange={this.emailInputChangeHandler}\r\n                                required />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                            <label htmlFor=\"password\" className=\"text-info\">Password:</label><br />\r\n                            <input\r\n                                id=\"password\"\r\n                                className=\"form-control\"\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"********\"\r\n                                onChange={this.passwordInputChangeHandler}\r\n                                required />\r\n                            </div>\r\n                            <div className=\"d-flex justify-content-between align-items-end\">\r\n                            <button onClick={this.onSubmitHandler} className=\"btn btn-info btn-md\" type=\"button\">Submit</button>\r\n                            </div>\r\n                          </Form>\r\n                        \r\n                        </CardBody>\r\n                        </Card>\r\n                        <Card></Card>\r\n                    \r\n                    </Col>\r\n                    <Col md=\"4\">\r\n                      <Card className=\"card-user\">\r\n                        <CardBody>\r\n                          <CardText />\r\n                          <div className=\"author\">\r\n                            <div className=\"block block-one\" />\r\n                            <div className=\"block block-two\" />\r\n                            <div className=\"block block-three\" />\r\n                            <div className=\"block block-four\" />\r\n                            <a href=\"#pablo\" onClick={e => e.preventDefault()}>\r\n                              <img\r\n                                alt=\"...\"\r\n                                className=\"avatar\"\r\n                                src={require(\"assets/img/james.jpg\")}\r\n                              />\r\n                              <h5 className=\"title\">Nguyá»…n VÄƒn Tháº¯ng</h5>\r\n                            </a>\r\n                            <p className=\"description\">Admin</p>\r\n                          </div>\r\n                          <div className=\"card-description ml-auto mr-auto text-center\">\r\n                            Cáº§n há»— trá»£ vui lÃ²ng liÃªn há»‡ vÆ¡i admin\r\n                            <p className=\"card-description\">Sá»‘ Ä‘iá»‡n thoáº¡i:{' '}0971484530</p>\r\n                            <p className=\"card-description\">Email:{' '}admin@gmail.com</p>\r\n                            <p  className=\"container mt-3\" >---------------</p>                    \r\n                          </div>                  \r\n                        </CardBody>                \r\n                      </Card>\r\n                    </Col>\r\n                </Row>     \r\n            </div>       \r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}