{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\TT\\\\Desktop\\\\TLCN\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\TT\\\\Desktop\\\\TLCN\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\TT\\\\Desktop\\\\TLCN\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\TT\\\\Desktop\\\\TLCN\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\TT\\\\Desktop\\\\TLCN\\\\TLCN_QLDL\\\\FRONTEND\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\TT\\\\Desktop\\\\TLCN\\\\TLCN_QLDL\\\\FRONTEND\\\\src\\\\components\\\\TableRow\\\\TableRowDoc.js\";\nimport React, { Component } from 'react';\nimport { Button } from \"reactstrap\";\nimport axios from 'axios'; //import download from 'js-file-download';\n\nimport { ToastContainer, toast } from \"react-toastify\";\n\nvar TableRowDoc = /*#__PURE__*/function (_Component) {\n  _inherits(TableRowDoc, _Component);\n\n  var _super = _createSuper(TableRowDoc);\n\n  function TableRowDoc(props) {\n    var _this;\n\n    _classCallCheck(this, TableRowDoc);\n\n    _this = _super.call(this, props); //this.delete = this.delete.bind(this);\n\n    _this.download1 = _this.download1.bind(_assertThisInitialized(_this));\n    _this.delete = _this.delete.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TableRowDoc, [{\n    key: \"download1\",\n    value: function download1() {\n      //axios.get('/api/doc/dowload/'+this.props.obj.idDoc);\n      var iddowload = this.props.obj.idDoc;\n      axios({\n        url: '/api/doc/dowload/' + iddowload,\n        moethod: 'GET',\n        responseType: 'blob'\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: JSON.parse(localStorage.getItem(\"authorization\"))\n        }\n      }).then(function (response) {\n        var url = window.URL.createObjectURL(new Blob([response.data]));\n        var link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', 'file.docx');\n        document.body.appendChild(link);\n        link.click();\n        toast.success('Download success');\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var result = window.confirm(\"Are you sure you want to delete\");\n\n      if (result) {\n        var iddelete = this.props.obj.idDoc;\n        axios.delete(\"/api/doc/delete/\" + iddelete, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: JSON.parse(localStorage.getItem(\"authorization\"))\n          }\n        }).then(function (res) {\n          console.log(res.data.message);\n\n          if (res.data.success === true) {\n            toast.success('delete success'); //window.location.reload();\n          } else {\n            toast.error(\"\".concat(res.data.message));\n          }\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      } else {\n        console.log('vao day');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, this.props.obj.idDoc), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, this.props.obj.filename), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, this.props.obj.iduser), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, this.props.obj.authorname), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }, this.props.obj.note), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        size: \"sm\",\n        onClick: this.delete,\n        color: \"danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, \"Delete\"), /*#__PURE__*/React.createElement(Button, {\n        size: \"sm\",\n        onClick: this.download1,\n        color: \"success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      }, \"Download\"), /*#__PURE__*/React.createElement(ToastContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return TableRowDoc;\n}(Component);\n\nexport default TableRowDoc;","map":{"version":3,"sources":["C:/Users/TT/Desktop/TLCN/TLCN_QLDL/FRONTEND/src/components/TableRow/TableRowDoc.js"],"names":["React","Component","Button","axios","ToastContainer","toast","TableRowDoc","props","download1","bind","delete","iddowload","obj","idDoc","url","moethod","responseType","headers","Authorization","JSON","parse","localStorage","getItem","then","response","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","success","result","confirm","iddelete","res","console","log","message","error","catch","err","filename","iduser","authorname","note"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Button} from \"reactstrap\";\r\nimport axios from 'axios';\r\n//import download from 'js-file-download';\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nclass TableRowDoc extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        //this.delete = this.delete.bind(this);\r\n        this.download1 = this.download1.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n    \r\n    download1() {\r\n        //axios.get('/api/doc/dowload/'+this.props.obj.idDoc);\r\n        var iddowload = this.props.obj.idDoc;\r\n        axios({\r\n            url:'/api/doc/dowload/'+iddowload,\r\n            moethod:'GET',\r\n            responseType:'blob',\r\n        },{\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: JSON.parse(localStorage.getItem(\"authorization\")),\r\n            },\r\n          }).then((response) => {\r\n            const url =  window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download','file.docx');\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            toast.success('Download success');\r\n        })\r\n    }\r\n    delete() {\r\n        var result = window.confirm(\"Are you sure you want to delete\")\r\n        if(result){\r\n          var iddelete = this.props.obj.idDoc;\r\n          axios\r\n          .delete(\"/api/doc/delete/\" + iddelete,{\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: JSON.parse(localStorage.getItem(\"authorization\")),\r\n            },\r\n          })\r\n          .then((res)=>{\r\n            console.log(res.data.message);\r\n            if(res.data.success===true){\r\n              toast.success('delete success');\r\n              //window.location.reload();\r\n              \r\n            }\r\n            else\r\n            {\r\n              toast.error(`${res.data.message}`);\r\n            }\r\n          })\r\n          .catch((err) => console.log(err));\r\n        }\r\n        else\r\n        {\r\n          console.log('vao day')\r\n        }\r\n      }\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <td>\r\n                    {this.props.obj.idDoc}\r\n                </td>\r\n                <td>\r\n                    {this.props.obj.filename}\r\n                </td>\r\n                <td>{this.props.obj.iduser}</td>\r\n                <td>\r\n                    {this.props.obj.authorname}\r\n                </td>\r\n                <td>\r\n                    {this.props.obj.note}\r\n                </td>\r\n                <td>\r\n                    <Button size=\"sm\" onClick={this.delete} color=\"danger\">Delete</Button>\r\n                    <Button size=\"sm\" onClick={this.download1} color=\"success\">Download</Button>\r\n                    <ToastContainer />\r\n                </td>\r\n                \r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TableRowDoc;"]},"metadata":{},"sourceType":"module"}